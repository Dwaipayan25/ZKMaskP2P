"use strict";Object.defineProperty(exports, "__esModule", {value: true}); function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; } function _nullishCoalesce(lhs, rhsFn) { if (lhs != null) { return lhs; } else { return rhsFn(); } } function _optionalChain(ops) { let lastAccessLHS = undefined; let value = ops[0]; let i = 1; while (i < ops.length) { const op = ops[i]; const fn = ops[i + 1]; i += 2; if ((op === 'optionalAccess' || op === 'optionalCall') && value == null) { return undefined; } if (op === 'access' || op === 'optionalAccess') { lastAccessLHS = value; value = fn(value); } else if (op === 'call' || op === 'optionalCall') { value = fn((...args) => value.call(lastAccessLHS, ...args)); lastAccessLHS = undefined; } } return value; } var _class;var _promises = require('fs/promises');var _path = require('path'); var _path2 = _interopRequireDefault(_path);var _gzipjs = require('gzip-js'); var _gzipjs2 = _interopRequireDefault(_gzipjs);var _ignorewalk = require('ignore-walk'); var _ignorewalk2 = _interopRequireDefault(_ignorewalk);var _tar = require('tar'); var _tar2 = _interopRequireDefault(_tar);var _tarjs = require('tar-js'); var _tarjs2 = _interopRequireDefault(_tarjs);var E=class{constructor(e){this.config=e}};var _axios = require('axios'); var _axios2 = _interopRequireDefault(_axios);var _buffer = require('buffer');var _formdatanode = require('formdata-node');var P=process.env.BROWSER_BUILD?window.File:_buffer.File,C=process.env.BROWSER_BUILD?window.FormData:_formdatanode.FormData;var T=class extends Error{constructor(e,r,o){super(o),this.name="ApiError",this.url=r.url,this.status=r.status,this.statusText=r.statusText,this.body=r.body,this.request=e}};var N=class extends Error{constructor(e){super(e),this.name="CancelError"}get isCancelled(){return!0}},A=class{#t;#r;#e;#o;#i;#n;#s;constructor(e){this.#t=!1,this.#r=!1,this.#e=!1,this.#o=[],this.#i=new Promise((r,o)=>{this.#n=r,this.#s=o;let i=c=>{this.#t||this.#r||this.#e||(this.#t=!0,_optionalChain([this, 'access', _2 => _2.#n, 'optionalCall', _3 => _3(c)]))},s=c=>{this.#t||this.#r||this.#e||(this.#r=!0,_optionalChain([this, 'access', _4 => _4.#s, 'optionalCall', _5 => _5(c)]))},a=c=>{this.#t||this.#r||this.#e||this.#o.push(c)};return Object.defineProperty(a,"isResolved",{get:()=>this.#t}),Object.defineProperty(a,"isRejected",{get:()=>this.#r}),Object.defineProperty(a,"isCancelled",{get:()=>this.#e}),e(i,s,a)})}get[Symbol.toStringTag](){return"Cancellable Promise"}then(e,r){return this.#i.then(e,r)}catch(e){return this.#i.catch(e)}finally(e){return this.#i.finally(e)}cancel(){if(!(this.#t||this.#r||this.#e)){if(this.#e=!0,this.#o.length)try{for(let e of this.#o)e()}catch(e){console.warn("Cancellation threw an error",e);return}this.#o.length=0,_optionalChain([this, 'access', _6 => _6.#s, 'optionalCall', _7 => _7(new N("Request aborted"))])}}get isCancelled(){return this.#e}};var K=t=>t!=null,k=t=>typeof t=="string",U=t=>k(t)&&t!=="",M=t=>typeof t=="object"&&typeof t.type=="string"&&typeof t.stream=="function"&&typeof t.arrayBuffer=="function"&&typeof t.constructor=="function"&&typeof t.constructor.name=="string"&&/^(Blob|File)$/.test(t.constructor.name)&&/^(Blob|File)$/.test(t[Symbol.toStringTag]),ee=t=>t instanceof C,te=t=>t>=200&&t<300,re=t=>{try{return btoa(t)}catch (e2){return Buffer.from(t).toString("base64")}},oe=t=>{let e=[],r=(i,s)=>{e.push(`${encodeURIComponent(i)}=${encodeURIComponent(String(s))}`)},o=(i,s)=>{K(s)&&(Array.isArray(s)?s.forEach(a=>{o(i,a)}):typeof s=="object"?Object.entries(s).forEach(([a,c])=>{o(`${i}[${a}]`,c)}):r(i,s))};return Object.entries(t).forEach(([i,s])=>{o(i,s)}),e.length>0?`?${e.join("&")}`:""},ie=(t,e)=>{let r=t.ENCODE_PATH||encodeURI,o=e.url.replace("{api-version}",t.VERSION).replace(/{(.*?)}/g,(s,a)=>_optionalChain([e, 'access', _8 => _8.path, 'optionalAccess', _9 => _9.hasOwnProperty, 'call', _10 => _10(a)])?r(String(e.path[a])):s),i=`${t.BASE}${o}`;return e.query?`${i}${oe(e.query)}`:i},se=t=>{if(t.formData){if(t.formData instanceof C)return t.formData;let e=new C,r=(o,i)=>{k(i)||M(i)?e.append(o,i):e.append(o,JSON.stringify(i))};return Object.entries(t.formData).filter(([o,i])=>K(i)).forEach(([o,i])=>{Array.isArray(i)?i.forEach(s=>r(o,s)):r(o,i)}),e}},F=async(t,e)=>typeof e=="function"?e(t):e,ne=async(t,e,r)=>{let o=await F(e,t.TOKEN),i=await F(e,t.USERNAME),s=await F(e,t.PASSWORD),a=await F(e,t.HEADERS),c=r&&"getHeaders"in r&&typeof _optionalChain([r, 'optionalAccess', _11 => _11.getHeaders])=="function"&&_optionalChain([r, 'optionalAccess', _12 => _12.getHeaders, 'call', _13 => _13()])||{},u=Object.entries({Accept:"application/json",...a,...e.headers,...c}).filter(([p,n])=>K(n)).reduce((p,[n,l])=>({...p,[n]:String(l)}),{});if(U(o)&&(u.Authorization=`Bearer ${o}`),U(i)&&U(s)){let p=re(`${i}:${s}`);u.Authorization=`Basic ${p}`}return e.body&&(e.mediaType?u["Content-Type"]=e.mediaType:M(e.body)?u["Content-Type"]=e.body.type||"application/octet-stream":k(e.body)?u["Content-Type"]="text/plain":ee(e.body)||(u["Content-Type"]="application/json")),u},ae=t=>{if(t.body)return t.body},pe=async(t,e,r,o,i,s,a,c)=>{let u=_axios2.default.CancelToken.source(),p={url:r,headers:s,data:_nullishCoalesce(o, () => (i)),method:e.method,withCredentials:t.WITH_CREDENTIALS,cancelToken:u.token,responseType:e.responseType};a(()=>u.cancel("The user aborted a request."));try{return await c.request(p)}catch(n){let l=n;if(l.response)return l.response;throw n}},le=(t,e)=>{if(e){let r=t.headers[e];if(k(r))return r}},ce=t=>{if(t.status!==204)return t.data},ue=(t,e)=>{let o={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable",...t.errors}[e.status];if(o)throw new T(t,e,o);if(!e.ok){let i=_nullishCoalesce(e.status, () => ("unknown")),s=_nullishCoalesce(e.statusText, () => ("unknown")),a=(()=>{try{return JSON.stringify(e.body,null,2)}catch (e3){return}})();throw new T(t,e,`Generic Error: status: ${i}; status text: ${s}; body: ${a}`)}},J=(t,e,r=_axios2.default)=>new A(async(o,i,s)=>{let a=Date.now(),c=()=>{let n=Date.now()-a;if(n<1e3)return`${n} ms`;let l=n/1e3;if(l<60)return`${l.toFixed(2)} s`;let y=l/60;return y<60?`${y.toFixed(2)} m`:`${(y/60).toFixed(2)} h`},u=ie(t,e),p=`${e.method} ${u}`;try{let n=se(e),l=ae(e),y=await ne(t,e,n);if(!s.isCancelled){_optionalChain([t, 'access', _14 => _14.logger, 'optionalAccess', _15 => _15.debug, 'call', _16 => _16(`${p} requested`)]);let f=await pe(t,e,u,l,n,y,s,r),g=ce(f),d=le(f,e.responseHeader),h={url:u,ok:te(f.status),status:f.status,statusText:f.statusText,body:_nullishCoalesce(d, () => (g))},b=`${p} ${f.status} ${f.statusText} (${c()})`;!h.body||typeof h.body=="string"?_optionalChain([t, 'access', _17 => _17.logger, 'optionalAccess', _18 => _18.debug, 'call', _19 => _19(`${b} - ${h.body||"<empty-body>"}`)]):e.responseType==="stream"?_optionalChain([t, 'access', _20 => _20.logger, 'optionalAccess', _21 => _21.debug, 'call', _22 => _22(`${b} - <streaming-response>`)]):e.responseType==="blob"?_optionalChain([t, 'access', _23 => _23.logger, 'optionalAccess', _24 => _24.debug, 'call', _25 => _25(`${b} - <blob-response>`)]):_optionalChain([t, 'access', _26 => _26.logger, 'optionalAccess', _27 => _27.debug, 'call', _28 => _28(h.body,b)]),ue(e,h),o(h.body)}}catch(n){let l=n instanceof Error?n.message:"Unknown error";_optionalChain([t, 'access', _29 => _29.logger, 'optionalAccess', _30 => _30.debug, 'call', _31 => _31(`${p} ERROR (${c()}) - ${l}`)]),i(n)}});var B=class extends E{constructor(e){super(e)}request(e){return J(this.config,e)}};var I=class{constructor(e){this.httpRequest=e}apikeyGenerate(e){return this.httpRequest.request({method:"POST",url:"/api/apikey/generate",body:e,mediaType:"application/json",errors:{401:"Unauthorized",412:"Precondition Failed"}})}apikeyGenerateWithAuth(e){return this.httpRequest.request({method:"POST",url:"/api/v1/apikey/generate",query:{name:e},errors:{412:"Precondition Failed"}})}apikeyList(){return this.httpRequest.request({method:"GET",url:"/api/v1/apikey/list",errors:{500:"Internal Server Error"}})}apikeyDelete(e){return this.httpRequest.request({method:"DELETE",url:"/api/v1/apikey/{apikey_id}/delete",path:{apikey_id:e},errors:{404:"Not Found",500:"Internal Server Error"}})}};var x=class{constructor(e){this.httpRequest=e}circuitCreate(e){return this.httpRequest.request({method:"POST",url:"/api/v1/circuit/create",formData:e,mediaType:"multipart/form-data",errors:{412:"Precondition Failed",422:"Unprocessable Entity",500:"Internal Server Error",501:"Not Implemented"}})}circuitList(){return this.httpRequest.request({method:"GET",url:"/api/v1/circuit/list",errors:{500:"Internal Server Error"}})}circuitDetail(e,r=!0){return this.httpRequest.request({method:"GET",url:"/api/v1/circuit/{circuit_id}/detail",path:{circuit_id:e},query:{include_verification_key:r},errors:{404:"Not Found",500:"Internal Server Error"}})}circuitDelete(e){return this.httpRequest.request({method:"DELETE",url:"/api/v1/circuit/{circuit_id}/delete",path:{circuit_id:e},errors:{404:"Not Found",500:"Internal Server Error"}})}circuitProofs(e){return this.httpRequest.request({method:"GET",url:"/api/v1/circuit/{circuit_id}/proofs",path:{circuit_id:e},errors:{404:"Not Found",500:"Internal Server Error"}})}proofCreate(e,r){return this.httpRequest.request({method:"POST",url:"/api/v1/circuit/{circuit_id}/prove",path:{circuit_id:e},formData:r,mediaType:"application/x-www-form-urlencoded",errors:{404:"Not Found",412:"Precondition Failed",501:"Not Implemented"}})}};var O=class{constructor(e){this.httpRequest=e}circuitDownload(e){return this.httpRequest.request({method:"GET",url:"/api/v1/circuit/{circuit_id}/download",path:{circuit_id:e},errors:{404:"Not Found",500:"Internal Server Error"},responseType:process.env.BROWSER_BUILD?"blob":"stream"})}circuitSmartContractVerifier(e){return this.httpRequest.request({method:"GET",url:"/api/v1/circuit/{circuit_id}/smart_contract_verifier",path:{circuit_id:e},errors:{404:"Not Found",412:"Precondition Failed",500:"Internal Server Error",501:"Not Implemented"}})}passwordChangeWithJwtAuth(e){return this.httpRequest.request({method:"POST",url:"/api/v1/password/change",formData:e,mediaType:"application/x-www-form-urlencoded",errors:{422:"Unprocessable Entity"}})}proofList(){return this.httpRequest.request({method:"GET",url:"/api/v1/proof/list",errors:{500:"Internal Server Error"}})}sindriManifestSchema(){return this.httpRequest.request({method:"GET",url:"/api/v1/sindri-manifest-schema.json"})}teamMe(){return this.httpRequest.request({method:"GET",url:"/api/v1/team/me"})}userMeWithJwtAuth(){return this.httpRequest.request({method:"GET",url:"/api/v1/user/me"})}};var w=class{constructor(e){this.httpRequest=e}proofDetail(e,r=!0,o=!0,i=!1,s=!0){return this.httpRequest.request({method:"GET",url:"/api/v1/proof/{proof_id}/detail",path:{proof_id:e},query:{include_proof:r,include_public:o,include_smart_contract_calldata:i,include_verification_key:s},errors:{404:"Not Found",500:"Internal Server Error",501:"Not Implemented"}})}proofDelete(e){return this.httpRequest.request({method:"DELETE",url:"/api/v1/proof/{proof_id}/delete",path:{proof_id:e},errors:{404:"Not Found",500:"Internal Server Error"}})}};var q=class{constructor(e){this.httpRequest=e}fd3Aaa7BControllerObtainToken(e){return this.httpRequest.request({method:"POST",url:"/api/token/pair",body:e,mediaType:"application/json"})}b87E0720ControllerRefreshToken(e){return this.httpRequest.request({method:"POST",url:"/api/token/refresh",body:e,mediaType:"application/json"})}d1C092ControllerVerifyToken(e){return this.httpRequest.request({method:"POST",url:"/api/token/verify",body:e,mediaType:"application/json"})}};var v=class{constructor(e,r=B){this.request=new r({BASE:_nullishCoalesce(_optionalChain([e, 'optionalAccess', _32 => _32.BASE]), () => ("https://sindri.app")),VERSION:_nullishCoalesce(_optionalChain([e, 'optionalAccess', _33 => _33.VERSION]), () => ("1.6.14")),WITH_CREDENTIALS:_nullishCoalesce(_optionalChain([e, 'optionalAccess', _34 => _34.WITH_CREDENTIALS]), () => (!1)),CREDENTIALS:_nullishCoalesce(_optionalChain([e, 'optionalAccess', _35 => _35.CREDENTIALS]), () => ("include")),TOKEN:_optionalChain([e, 'optionalAccess', _36 => _36.TOKEN]),USERNAME:_optionalChain([e, 'optionalAccess', _37 => _37.USERNAME]),PASSWORD:_optionalChain([e, 'optionalAccess', _38 => _38.PASSWORD]),HEADERS:_optionalChain([e, 'optionalAccess', _39 => _39.HEADERS]),ENCODE_PATH:_optionalChain([e, 'optionalAccess', _40 => _40.ENCODE_PATH])}),this.authorization=new I(this.request),this.circuits=new x(this.request),this.internal=new O(this.request),this.proofs=new w(this.request),this.token=new q(this.request)}};var _fs = require('fs'); var _fs2 = _interopRequireDefault(_fs);var _envpaths = require('env-paths'); var _envpaths2 = _interopRequireDefault(_envpaths);var _lodash = require('lodash'); var _lodash2 = _interopRequireDefault(_lodash);var _zod = require('zod');var Q=()=>{let t=_envpaths2.default.call(void 0, "sindri",{suffix:""});return _path2.default.join(t.config,"sindri.conf.json")},z=_zod.z.object({auth:_zod.z.nullable(_zod.z.object({apiKey:_zod.z.string(),apiKeyId:_zod.z.string(),apiKeyName:_zod.z.string(),baseUrl:_zod.z.string().url(),teamId:_zod.z.number(),teamSlug:_zod.z.string()})).default(null)}),fe=z.parse({}),de=t=>{let e=Q();if(_fs2.default.existsSync(e)){_optionalChain([t, 'optionalAccess', _41 => _41.debug, 'call', _42 => _42(`Loading config from "${e}".`)]);try{let r=_fs2.default.readFileSync(e,{encoding:"utf-8"}),o=z.parse(JSON.parse(r));return _optionalChain([t, 'optionalAccess', _43 => _43.debug, 'call', _44 => _44("Config loaded successfully.")]),o}catch(r){_optionalChain([t, 'optionalAccess', _45 => _45.warn, 'call', _46 => _46(`The config schema in "${e}" is invalid and will not be used.
To remove it and start fresh, run:
    rm ${e}`)]),_optionalChain([t, 'optionalAccess', _47 => _47.debug, 'call', _48 => _48(r)])}}return _optionalChain([t, 'optionalAccess', _49 => _49.debug, 'call', _50 => _50(`Config file "${e}" does not exist, initializing default config.`)]),_lodash2.default.cloneDeep(fe)},L=class{constructor(e){this.logger=e,this.reload()}get auth(){return _lodash2.default.cloneDeep(this._config.auth)}get config(){return _lodash2.default.cloneDeep(this._config)}reload(){this._config=de(this.logger)}update(e){_optionalChain([this, 'access', _51 => _51.logger, 'optionalAccess', _52 => _52.debug, 'call', _53 => _53("Merging in config update:")]),_optionalChain([this, 'access', _54 => _54.logger, 'optionalAccess', _55 => _55.debug, 'call', _56 => _56(e)]);let r=_lodash2.default.cloneDeep(this._config);_lodash2.default.merge(r,e),this._config=z.parse(r);let o=Q(),i=_path2.default.dirname(o);_fs2.default.existsSync(i)||_fs2.default.mkdirSync(i,{recursive:!0}),_optionalChain([this, 'access', _57 => _57.logger, 'optionalAccess', _58 => _58.debug, 'call', _59 => _59(`Writing merged config to "${o}":`,this._config)]),_fs2.default.writeFileSync(o,JSON.stringify(this._config,null,2),{encoding:"utf-8"})}};var _pino = require('pino'); var _pino2 = _interopRequireDefault(_pino);var _pinopretty = require('pino-pretty'); var _pinopretty2 = _interopRequireDefault(_pinopretty);var W=t=>{let e=_pino2.default.call(void 0, process.env.BROWSER_BUILD?{browser:{asObject:!0}}:_pinopretty2.default.call(void 0, {colorize:!0,destination:2,ignore:"hostname,pid",levelFirst:!1,sync:!0}));return e.level=_nullishCoalesce(t, () => (!0))?"silent":"info",e},qt=W();var H= (_class =class t{__init() {this.pollingInterval=1e3}constructor(e={}){;_class.prototype.__init.call(this);this._client=new v,this._clientConfig=this._client.request.config;let r="v0.0.1-alpha.44";this._clientConfig.HEADERS={...this._clientConfig.HEADERS,"Sindri-Client":`sindri-js-sdk/${r}`},this.logger=W(),process.env.BROWSER_BUILD||(this._config=new L(this.logger)),this._clientConfig.logger=this.logger,this.authorize(e)}get apiKey(){return this._clientConfig.TOKEN&&typeof this._clientConfig.TOKEN!="string"?null:this._clientConfig.TOKEN||null}get baseUrl(){return this._clientConfig.BASE}get logLevel(){return this.logger.level}set logLevel(e){this.logger.level=e,this.logger.debug(`Set log level to "${this.logger.level}".`)}authorize(e){return process.env.BROWSER_BUILD?(this._clientConfig.BASE=e.baseUrl||"https://sindri.app",this._clientConfig.TOKEN=e.apiKey):(this._config.reload(),this._clientConfig.BASE=e.baseUrl||process.env.SINDRI_BASE_URL||_optionalChain([this, 'access', _60 => _60._config, 'access', _61 => _61.auth, 'optionalAccess', _62 => _62.baseUrl])||this._clientConfig.BASE||"https://sindri.app",this._clientConfig.TOKEN=e.apiKey||process.env.SINDRI_API_KEY||_optionalChain([this, 'access', _63 => _63._config, 'access', _64 => _64.auth, 'optionalAccess', _65 => _65.apiKey])),!!(this._clientConfig.BASE&&this._clientConfig.TOKEN)}create(e){return new t(e)}async createCircuit(e,r=["latest"]){let o=new C;r=typeof r=="string"?[r]:_nullishCoalesce(r, () => ([]));for(let p of r){if(!/^[-a-zA-Z0-9_.]+$/.test(p))throw new Error(`"${p}" is not a valid tag. Tags may only contain alphanumeric characters, underscores, hyphens, and periods.`);o.append("tags",p)}if(r.length===0&&o.append("tags",""),typeof e=="string"){if(process.env.BROWSER_BUILD)throw new Error("Specifying `project` as a path is not allowed in the browser build.");let p;try{p=await _promises.stat.call(void 0, e)}catch (e4){throw new Error(`The "${e}" path does not exist or you do not have permission to access it.`)}if(p.isFile()){if(!/\.(zip|tar|tar\.gz|tgz)$/i.test(e))throw new Error("Only gzipped tarballs or zip files are supported.");let n=_path2.default.basename(e),l=await _promises.readFile.call(void 0, e);o.append("files",new P([l],n))}else if(p.isDirectory()){let n=_path2.default.join(e,"sindri.json"),l;try{l=await _promises.readFile.call(void 0, n,{encoding:"utf-8"})}catch (e5){throw new Error(`Expected Sindri manifest file at "${n}" does not exist.`)}let y;try{y=JSON.parse(l)}catch (e6){throw new Error(`Could not parse "${n}", is it valid JSON?`)}let f=_optionalChain([y, 'optionalAccess', _66 => _66.name]);if(!f)throw new Error(`No circuit "name" field was found in "${n}", the manifest is invalid.`);let g=_ignorewalk2.default.sync({follow:!0,ignoreFiles:[".sindriignore"],path:e}).filter(S=>!/(^|\/)\.git(\/|$)/.test(S)),d=_path2.default.basename(n);g.includes(d)||g.push(d);let h=`${f}.tar.gz`;g.sort((S,$)=>S.localeCompare($));let b=_tar2.default.c({cwd:e,gzip:!0,onwarn:(S,$)=>{this.logger.warn(`While creating tarball: ${S} - ${$}`)},prefix:`${f}/`,sync:!0},g);o.append("files",new P([b.read()],h))}else throw new Error(`The "${e}" path is not a file or directory.`)}else if(Array.isArray(e)){if(!e.every(d=>d instanceof P))throw new Error("All entries in `project` must be `File` instances.");let p=e.find(d=>d.name==="sindri.json");if(!p)throw new Error("The `project` array must include a `sindri.json` file.");let n;try{n=JSON.parse(await p.text())}catch (e7){throw new Error('Could not parse "sindri.json", is it valid JSON?')}let l=_optionalChain([n, 'optionalAccess', _67 => _67.name]);if(!l)throw new Error('No circuit "name" field was found in "sindri.json", the manifest is invalid.');let y=new _tarjs2.default;e.sort((d,h)=>d.name.localeCompare(h.name));for(let d of e){let h=new Uint8Array(await d.arrayBuffer());await new Promise(b=>y.append(`${l}/${d.name}`,h,b))}let f=new Uint8Array(_gzipjs2.default.zip(y.out)),g=new P([f],`${l}.tar.gz`);process.env.BROWSER_BUILD,o.append("files",g)}let i=this._clientConfig.HEADERS;this._clientConfig.HEADERS={...i,"Content-Type":"multipart/form-data; boundary=----WebKitFormBoundary0buQ8d6EhWcs9X9d"};let a=await this._client.circuits.circuitCreate(o);this._clientConfig.HEADERS=i;let c=a.circuit_id,u;for(;u=await this._client.circuits.circuitDetail(c,!1),!(u.status==="Ready"||u.status==="Failed");)await new Promise(p=>setTimeout(p,this.pollingInterval));return u}async getAllCircuitProofs(e){return await this._client.circuits.circuitProofs(e)}async getAllCircuits(){return await this._client.circuits.circuitList()}async getCircuit(e){return await this._client.circuits.circuitDetail(e)}async getProof(e){return await this._client.proofs.proofDetail(e)}async proveCircuit(e,r,o=!1,i=!1){let s=await this._client.circuits.proofCreate(e,{perform_verify:o,proof_input:r}),a;for(;a=await this._client.proofs.proofDetail(s.proof_id,!0,!0,i,!0),!(a.status==="Ready"||a.status==="Failed");)await new Promise(c=>setTimeout(c,this.pollingInterval));return a}}, _class);var Gt=new H;exports.default = Gt;

module.exports = exports.default;
//# sourceMappingURL=index.js.map